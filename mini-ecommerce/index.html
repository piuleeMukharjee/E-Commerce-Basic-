<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Mini E-Commerce</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Font Awesome Icons -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />

    <!-- Main CSS -->
    <link rel="stylesheet" href="css/style.css" />
</head>

<body>

    <!-- ================= NAVBAR ================= -->
    <header class="navbar">
        <h2 class="logo">MiniStore</h2>

        <input
            type="text"
            id="searchInput"
            placeholder="Search products..."
            class="search-bar"
        />


        <nav>
            <a href="#/products">Products</a>

            <a href="#/cart">
                <i class="fa-solid fa-cart-shopping"></i>
                <span>Cart</span>
            </a>

            <!-- Dark Mode Toggle -->
            <!-- Dark Mode Toggle -->
            <!-- Dark Mode Slide Toggle -->
            <div class="theme-switch">
                <span class="mode-text">Light</span>

                <!-- Dark Mode Gradient Toggle -->
                <div class="theme-toggle">
                    <input type="checkbox" id="themeToggle">
                    <label for="themeToggle" class="gradient-toggle"></label>
                </div>


                <span class="mode-text">Dark</span>
            </div>



        </nav>
    </header>

    <!-- ================= MAIN APP ================= -->
    <main id="app"></main>

    <!-- ================= TOAST ================= -->
    <div id="toast-container"></div>

    <!-- ================= ROUTE TEMPLATES ================= -->

    <!-- Products Page -->
    <template id="products-page">
        <section>
            <h1>Products</h1>

            <div id="productContainer" class="grid"></div>
        </section>
    </template>

    <!-- Cart Page -->
    <template id="cart-page">
        <section>
            <h1>Your Cart</h1>
            <div id="cartItems"></div>
            <h3 id="totalPrice"></h3>
        </section>
    </template>

    <!-- ================= JS FILES (ORDER MATTERS) ================= -->
    <script src="js/products.js"></script>
    <script src="js/toast.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/theme.js"></script>

    <!-- ================= ROUTER ================= -->
    <script>
        const app = document.getElementById("app");

        function router() {
            const route = location.hash || "#/products";
            app.innerHTML = "";

            if (route === "#/products") {
                const template = document.getElementById("products-page");
                app.appendChild(template.content.cloneNode(true));
                renderProducts();
            } 
            else if (route === "#/cart") {
                const template = document.getElementById("cart-page");
                app.appendChild(template.content.cloneNode(true));
                renderCart();
            }
        }

        window.addEventListener("load", router);
        window.addEventListener("hashchange", router);
    </script>

</body>
</html>
